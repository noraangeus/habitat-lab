habitat:
  seed: 100
  env_task: GymHabitatEnv
  env_task_gym_dependencies: []
  env_task_gym_id: ''
  environment:
    max_episode_steps: 750
    max_episode_seconds: 10000000
    iterator_options:
      cycle: true
      shuffle: true
      group_by_scene: true
      num_episode_sample: -1
      max_scene_repeat_episodes: -1
      max_scene_repeat_steps: 10000
      step_repetition_range: 0.2
  simulator:
    type: RearrangeSim-v0
    forward_step_size: 0.25
    turn_angle: 10
    create_renderer: false
    requires_textures: true
    auto_sleep: true
    step_physics: false
    concur_render: true
    needs_markers: true
    update_articulated_agent: true
    scene: data/scene_datasets/habitat-test-scenes/van-gogh-room.glb
    scene_dataset: default
    additional_object_paths:
    - data/objects/ycb/configs/
    - data/objects/amazon_berkeley/configs/
    - data/objects/google_object_dataset/configs/
    seed: 100
    default_agent_id: 0
    debug_render: false
    debug_render_articulated_agent: false
    kinematic_mode: true
    should_setup_semantic_ids: true
    debug_render_goal: true
    robot_joint_start_noise: 0.0
    ctrl_freq: 120.0
    ac_freq_ratio: 1
    load_objs: true
    hold_thresh: 0.15
    grasp_impulse: 10000.0
    agents:
      agent_0:
        height: 1.41
        radius: 0.25
        max_climb: 0.2
        max_slope: 45.0
        grasp_managers: 1
        sim_sensors:
          head_rgb_sensor:
            type: HabitatSimRGBSensor
            height: 256
            width: 256
            position:
            - 0.0
            - 1.25
            - 0.0
            orientation:
            - 0.0
            - 0.0
            - 0.0
            hfov: 90
            sensor_subtype: PINHOLE
            noise_model: None
            noise_model_kwargs: {}
            uuid: head_rgb
          head_depth_sensor:
            type: HabitatSimDepthSensor
            height: 256
            width: 256
            position:
            - 0.0
            - 1.25
            - 0.0
            orientation:
            - 0.0
            - 0.0
            - 0.0
            hfov: 90
            sensor_subtype: PINHOLE
            noise_model: None
            noise_model_kwargs: {}
            min_depth: 0.0
            max_depth: 10.0
            normalize_depth: true
            uuid: head_depth
          arm_rgb_sensor:
            type: HabitatSimRGBSensor
            height: 256
            width: 256
            position:
            - 0.0
            - 1.25
            - 0.0
            orientation:
            - 0.0
            - 0.0
            - 0.0
            hfov: 90
            sensor_subtype: PINHOLE
            noise_model: None
            noise_model_kwargs: {}
            uuid: articulated_agent_arm_rgb
          arm_depth_sensor:
            type: HabitatSimDepthSensor
            height: 256
            width: 256
            position:
            - 0.0
            - 1.25
            - 0.0
            orientation:
            - 0.0
            - 0.0
            - 0.0
            hfov: 90
            sensor_subtype: PINHOLE
            noise_model: None
            noise_model_kwargs: {}
            min_depth: 0.0
            max_depth: 10.0
            normalize_depth: true
            uuid: articulated_agent_arm_depth
        is_set_start_state: false
        start_position:
        - 0.0
        - 0.0
        - 0.0
        start_rotation:
        - 0.0
        - 0.0
        - 0.0
        - 1.0
        joint_start_noise: 0.0
        joint_that_can_control: null
        joint_start_override: null
        articulated_agent_urdf: data/robots/hab_spot_arm/urdf/hab_spot_arm.urdf
        articulated_agent_type: SpotRobot
        ik_arm_urdf: null
        motion_data_path: ''
        auto_update_sensor_transform: true
      agent_1:
        height: 1.5
        radius: 0.3
        max_climb: 0.2
        max_slope: 45.0
        grasp_managers: 1
        sim_sensors:
          head_rgb_sensor:
            type: HabitatSimRGBSensor
            height: 224
            width: 224
            position:
            - 0.0
            - 1.25
            - 0.0
            orientation:
            - 0.0
            - 0.0
            - 0.0
            hfov: 90
            sensor_subtype: PINHOLE
            noise_model: None
            noise_model_kwargs: {}
            uuid: head_rgb
          head_depth_sensor:
            type: HabitatSimDepthSensor
            height: 224
            width: 224
            position:
            - 0.0
            - 1.25
            - 0.0
            orientation:
            - 0.0
            - 0.0
            - 0.0
            hfov: 90
            sensor_subtype: PINHOLE
            noise_model: None
            noise_model_kwargs: {}
            min_depth: 0.0
            max_depth: 10.0
            normalize_depth: true
            uuid: head_depth
        is_set_start_state: false
        start_position:
        - 0.0
        - 0.0
        - 0.0
        start_rotation:
        - 0.0
        - 0.0
        - 0.0
        - 1.0
        joint_start_noise: 0.1
        joint_that_can_control: null
        joint_start_override: null
        articulated_agent_urdf: data/humanoids/humanoid_data/female_2/female_2.urdf
        articulated_agent_type: KinematicHumanoid
        ik_arm_urdf: null
        motion_data_path: data/humanoids/humanoid_data/female_2/female_2_motion_data_smplx.pkl
        auto_update_sensor_transform: true
    agents_order:
    - agent_0
    - agent_1
    default_agent_navmesh: true
    navmesh_include_static_objects: false
    habitat_sim_v0:
      gpu_device_id: 0
      gpu_gpu: false
      allow_sliding: true
      frustum_culling: true
      enable_physics: true
      enable_hbao: false
      physics_config_file: ./data/default.physics_config.json
      leave_context_with_background_renderer: false
      enable_gfx_replay_save: false
    ep_info: null
    object_ids_start: 100
    renderer:
      enable_batch_renderer: false
      composite_files: null
      classic_replay_renderer: false
  task:
    physics_target_sps: 60.0
    reward_measure: rearrange_cooperate_reward
    success_measure: pddl_success
    success_reward: 10.0
    slack_reward: -0.0005
    end_on_success: true
    type: RearrangePddlTask-v0
    lab_sensors:
      relative_resting_pos_sensor:
        type: RelativeRestingPositionSensor
      target_start_sensor:
        type: TargetStartSensor
        goal_format: CARTESIAN
        dimensionality: 3
      goal_sensor:
        type: GoalSensor
        goal_format: CARTESIAN
        dimensionality: 3
      joint_sensor:
        type: JointSensor
        dimensionality: 7
        arm_joint_mask: null
      is_holding_sensor:
        type: IsHoldingSensor
      end_effector_sensor:
        type: EEPositionSensor
      target_start_gps_compass_sensor:
        type: TargetStartGpsCompassSensor
      target_goal_gps_compass_sensor:
        type: TargetGoalGpsCompassSensor
      localization_sensor:
        type: LocalizationSensor
      other_agent_gps:
        type: OtherAgentGps
      agent_0_agents_within_threshold:
        type: AreAgentsWithinThreshold
        x_len: 2.0
        y_len: 1.5
        agent_idx: 0
      agent_1_agents_within_threshold:
        type: AreAgentsWithinThreshold
        x_len: 2.0
        y_len: 1.5
        agent_idx: 1
      has_finished_oracle_nav:
        type: HasFinishedOracleNavSensor
    measurements:
      pddl_success:
        type: PddlSuccess
        must_call_stop: false
      num_steps:
        type: NumStepsMeasure
      did_agents_collide:
        type: DidAgentsCollide
      num_agents_collide:
        type: NumAgentsCollide
      pddl_stage_goals:
        type: PddlStageGoals
      pddl_subgoal_reward:
        type: PddlSubgoalReward
        stage_sparse_reward: 1.0
      rearrange_cooperate_reward:
        type: RearrangeCooperateReward
        stage_sparse_reward: 5.0
        end_on_collide: true
        collide_penalty: 0.5
    rank0_env0_measure_names:
    - habitat_perf
    rank0_measure_names: []
    goal_sensor_uuid: pointgoal
    count_obj_collisions: true
    settle_steps: 5
    constraint_violation_ends_episode: false
    constraint_violation_drops_object: true
    force_regenerate: false
    should_save_to_cache: false
    object_in_hand_sample_prob: 0.167
    min_start_distance: 3.0
    render_target: true
    filter_colliding_states: true
    num_spawn_attempts: 200
    spawn_max_dist_to_obj: 2.0
    base_angle_noise: 0.523599
    spawn_max_dist_to_obj_delta: 0.02
    recep_place_shrink_factor: 0.8
    ee_sample_factor: 0.2
    ee_exclude_region: 0.0
    base_noise: 0.05
    spawn_region_scale: 0.2
    joint_max_impulse: -1.0
    desired_resting_position:
    - 0.5
    - 0.0
    - 1.0
    use_marker_t: true
    cache_robot_init: false
    success_state: 0.0
    should_enforce_target_within_reach: false
    task_spec_base_path: benchmark/multi_agent/
    task_spec: pddl/multi_agent_tidy_house
    pddl_domain_def: fp
    obj_succ_thresh: 0.3
    enable_safe_drop: false
    art_succ_thresh: 0.15
    robot_at_thresh: 3.0
    min_distance_start_agents: 5.0
    actions:
      agent_0_arm_action:
        type: ArmAction
        arm_controller: ArmRelPosAction
        grip_controller: MagicGraspAction
        arm_joint_mask: null
        arm_joint_dimensionality: 7
        arm_joint_limit: null
        grasp_thresh_dist: 0.15
        disable_grip: false
        delta_pos_limit: 0.0125
        ee_ctrl_lim: 0.015
        should_clip: false
        render_ee_target: false
        gaze_distance_range: null
        center_cone_angle_threshold: 0.0
        center_cone_vector: null
        auto_grasp: false
      agent_0_base_velocity:
        type: BaseVelAction
        lin_speed: 40.0
        ang_speed: 20.0
        allow_dyn_slide: true
        allow_back: true
      agent_0_rearrange_stop:
        type: RearrangeStopAction
      agent_0_pddl_apply_action:
        type: PddlApplyAction
      agent_0_oracle_nav_action:
        type: OracleNavAction
        motion_control: base_velocity
        num_joints: 17
        turn_velocity: 1.0
        forward_velocity: 1.0
        turn_thresh: 0.1
        dist_thresh: 0.2
        lin_speed: 10.0
        ang_speed: 10.0
        allow_dyn_slide: true
        allow_back: true
        spawn_max_dist_to_obj: -1.0
        num_spawn_attempts: 200
        human_stop_and_walk_to_robot_distance_threshold: -1.0
      agent_1_base_velocity:
        type: BaseVelAction
        lin_speed: 10.0
        ang_speed: 10.0
        allow_dyn_slide: true
        allow_back: true
      agent_1_rearrange_stop:
        type: RearrangeStopAction
      agent_1_pddl_apply_action:
        type: PddlApplyAction
      agent_1_oracle_nav_action:
        type: OracleNavAction
        motion_control: human_joints
        num_joints: 17
        turn_velocity: 1.0
        forward_velocity: 1.0
        turn_thresh: 0.1
        dist_thresh: 0.5
        lin_speed: 10.0
        ang_speed: 10.0
        allow_dyn_slide: true
        allow_back: true
        spawn_max_dist_to_obj: -1.0
        num_spawn_attempts: 200
        human_stop_and_walk_to_robot_distance_threshold: -1.0
  dataset:
    type: RearrangeDataset-v0
    split: train
    scenes_dir: data/scene_datasets/hssd-hab
    content_scenes:
    - '*'
    data_path: data/datasets/hssd/rearrange/{split}/social_rearrange.json.gz
    metadata: null
  gym:
    obs_keys:
    - agent_0_articulated_agent_arm_depth
    - agent_0_relative_resting_position
    - agent_0_obj_start_sensor
    - agent_0_obj_goal_sensor
    - agent_0_obj_start_gps_compass
    - agent_0_obj_goal_gps_compass
    - agent_0_is_holding
    - agent_0_ee_pos
    - agent_0_localization_sensor
    - agent_0_has_finished_oracle_nav
    - agent_0_other_agent_gps
    - agent_0_agents_within_threshold
    - agent_1_head_depth
    - agent_1_relative_resting_position
    - agent_1_obj_start_sensor
    - agent_1_obj_goal_sensor
    - agent_1_obj_start_gps_compass
    - agent_1_obj_goal_gps_compass
    - agent_1_is_holding
    - agent_1_ee_pos
    - agent_1_localization_sensor
    - agent_1_has_finished_oracle_nav
    - agent_1_other_agent_gps
    - agent_1_agents_within_threshold
    action_keys: null
    achieved_goal_keys: []
    desired_goal_keys: []
habitat_baselines:
  evaluate: true
  trainer_name: ddppo
  updater_name: HRLPPO
  distrib_updater_name: HRLDDPPO
  torch_gpu_id: 0
  tensorboard_dir: tb
  writer_type: tb
  video_dir: video_dir
  video_fps: 30
  test_episode_count: -1
  eval_ckpt_path_dir: data/checkpoints
  num_environments: 1
  num_processes: -1
  rollout_storage_name: HrlRolloutStorage
  checkpoint_folder: data/checkpoints
  num_updates: -1
  num_checkpoints: 10
  checkpoint_interval: -1
  total_num_steps: 100000000.0
  log_interval: 1
  log_file: train.log
  force_blind_policy: false
  verbose: false
  vector_env_factory:
    _target_: habitat_baselines.common.HabitatVectorEnvFactory
  evaluator:
    _target_: habitat_baselines.rl.ppo.habitat_evaluator.HabitatEvaluator
  eval_keys_to_include_in_name:
  - pddl_success
  force_torch_single_threaded: true
  wb:
    project_name: ''
    entity: ''
    group: ''
    run_name: ''
  load_resume_state_config: false
  eval:
    split: val
    use_ckpt_config: true
    should_load_ckpt: false
    evals_per_ep: 1
    video_option:
    - disk
    extra_sim_sensors:
      third_rgb_sensor:
        type: HabitatSimRGBSensor
        height: 512
        width: 512
        position:
        - 0.0
        - 1.25
        - 0.0
        orientation:
        - 0.0
        - 0.0
        - 0.0
        hfov: 90
        sensor_subtype: PINHOLE
        noise_model: None
        noise_model_kwargs: {}
        uuid: third_rgb
  profiling:
    capture_start_step: -1
    num_steps_to_capture: -1
  should_log_single_proc_infos: false
  on_save_ckpt_callback: null
  rl:
    agent:
      type: MultiAgentAccessMgr
      num_agent_types: 2
      num_active_agents_per_type:
      - 1
      - 1
      num_pool_agents_per_type:
      - 1
      - 1
      agent_sample_interval: 20
      force_partner_sample_idx: -1
      behavior_latent_dim: -1
      force_all_agents: false
      discrim_reward_weight: 1.0
      allow_self_play: false
      self_play_batched: false
      load_type1_pop_ckpts: null
    preemption:
      append_slurm_job_id: false
      save_resume_state_interval: 100
      save_state_batch_only: false
    policy:
      main_agent:
        name: PointNavResNetPolicy
        action_distribution_type: categorical
        action_dist:
          use_log_std: true
          use_softplus: false
          std_init: ???
          log_std_init: 0.0
          use_std_param: false
          clamp_std: true
          min_std: 1.0e-06
          max_std: 1
          min_log_std: -5
          max_log_std: 2
          action_activation: tanh
          scheduled_std: false
        obs_transforms: {}
        hierarchical_policy: ???
      agent_0:
        name: HierarchicalPolicy
        action_distribution_type: categorical
        action_dist:
          use_log_std: true
          use_softplus: false
          std_init: ???
          log_std_init: 0.0
          use_std_param: false
          clamp_std: true
          min_std: 1.0e-06
          max_std: 1
          min_log_std: -5
          max_log_std: 2
          action_activation: tanh
          scheduled_std: false
        obs_transforms:
          add_virtual_keys:
            type: AddVirtualKeys
            virtual_keys:
              goal_to_agent_gps_compass: 2
        hierarchical_policy:
          high_level_policy:
            name: NeuralHighLevelPolicy
            allowed_actions:
            - nav_to_goal
            - nav_to_obj
            - pick
            - place
            - nav_to_receptacle_by_name
            - turn_left
            - turn_right
            - move_forward
            - move_backward
            allow_other_place: false
            hidden_dim: 512
            use_rnn: true
            rnn_type: LSTM
            backbone: resnet18
            normalize_visual_inputs: false
            num_rnn_layers: 2
            termination_obs_name: agents_within_threshold
            add_arm_rest: false
            policy_input_keys:
            - articulated_agent_arm_depth
            - is_holding
            - obj_start_gps_compass
            - obj_goal_gps_compass
            - other_agent_gps
            - obj_start_sensor
            - obj_goal_sensor
          ignore_skills: []
          defined_skills:
            open_cab:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: false
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names:
              - open_cab_by_name
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            open_fridge:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: false
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names:
              - open_fridge_by_name
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            close_cab:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: false
              ignore_grip: false
              obs_skill_inputs:
              - obj_start_sensor
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names:
              - close_cab_by_name
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            close_fridge:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: false
              obs_skill_inputs:
              - obj_start_sensor
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names:
              - close_fridge_by_name
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            pick:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: false
              obs_skill_inputs:
              - obj_start_sensor
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names: null
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            place:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: false
              obs_skill_inputs:
              - obj_goal_sensor
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names: null
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            wait:
              skill_name: WaitSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: -1
              force_end_on_timeout: true
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: false
              ignore_grip: false
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names: null
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            nav_to_obj:
              skill_name: OracleNavPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1500
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: false
              ignore_grip: false
              obs_skill_inputs:
              - obj_start_sensor
              - abs_obj_start_sensor
              - obj_goal_sensor
              - abs_obj_goal_sensor
              obs_skill_input_dim: 2
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names:
              - nav_to_obj
              - nav_to_goal
              - nav_to_robot
              - nav_to_receptacle_by_name
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            reset_arm:
              skill_name: ResetArmSkill
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 50
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: false
              ignore_grip: false
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state:
              - -0.45
              - -1.07
              - 0.0995
              - 0.938
              - -0.000788
              - 1.57
              - 0.00462
              pddl_action_names: null
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            turn_left:
              skill_name: MoveSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: false
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names: null
              turn_power_x: 0.0
              turn_power_y: 1.0
              skill_data: {}
            turn_right:
              skill_name: MoveSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: false
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names: null
              turn_power_x: 0.0
              turn_power_y: -1.0
              skill_data: {}
            move_forward:
              skill_name: MoveSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: false
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names: null
              turn_power_x: 1.0
              turn_power_y: 0.0
              skill_data: {}
            move_backward:
              skill_name: MoveSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: false
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names: null
              turn_power_x: -1.0
              turn_power_y: 0.0
              skill_data: {}
          use_skills: {}
      agent_1:
        name: HierarchicalPolicy
        action_distribution_type: categorical
        action_dist:
          use_log_std: true
          use_softplus: false
          std_init: ???
          log_std_init: 0.0
          use_std_param: false
          clamp_std: true
          min_std: 1.0e-06
          max_std: 1
          min_log_std: -5
          max_log_std: 2
          action_activation: tanh
          scheduled_std: false
        obs_transforms:
          add_virtual_keys:
            type: AddVirtualKeys
            virtual_keys:
              goal_to_agent_gps_compass: 2
        hierarchical_policy:
          high_level_policy:
            name: NeuralHighLevelPolicy
            allowed_actions:
            - nav_to_goal
            - nav_to_obj
            - pick
            - place
            - nav_to_receptacle_by_name
            allow_other_place: false
            hidden_dim: 512
            use_rnn: true
            rnn_type: LSTM
            backbone: resnet18
            normalize_visual_inputs: false
            num_rnn_layers: 2
            termination_obs_name: agents_within_threshold
            add_arm_rest: false
            policy_input_keys:
            - head_depth
            - is_holding
            - obj_start_gps_compass
            - obj_goal_gps_compass
            - other_agent_gps
            - obj_start_sensor
            - obj_goal_sensor
          ignore_skills: []
          defined_skills:
            open_cab:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: true
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names:
              - open_cab_by_name
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            open_fridge:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: true
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names:
              - open_fridge_by_name
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            close_cab:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: false
              ignore_grip: true
              obs_skill_inputs:
              - obj_start_sensor
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names:
              - close_cab_by_name
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            close_fridge:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: true
              obs_skill_inputs:
              - obj_start_sensor
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names:
              - close_fridge_by_name
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            pick:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: true
              obs_skill_inputs:
              - obj_start_sensor
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names: null
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            place:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: true
              ignore_grip: true
              obs_skill_inputs:
              - obj_goal_sensor
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names: null
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            wait:
              skill_name: WaitSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: -1
              force_end_on_timeout: true
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: false
              ignore_grip: true
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names: null
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            nav_to_obj:
              skill_name: OracleNavPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1500
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: false
              ignore_grip: true
              obs_skill_inputs:
              - obj_start_sensor
              - abs_obj_start_sensor
              - obj_goal_sensor
              - abs_obj_goal_sensor
              obs_skill_input_dim: 2
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names:
              - nav_to_obj
              - nav_to_goal
              - nav_to_receptacle_by_name
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
            reset_arm:
              skill_name: NoopSkillPolicy
              name: PointNavResNetPolicy
              action_distribution_type: gaussian
              load_ckpt_file: ''
              max_skill_steps: 1
              force_end_on_timeout: false
              force_config_file: ''
              at_resting_threshold: 0.15
              apply_postconds: false
              ignore_grip: true
              obs_skill_inputs: []
              obs_skill_input_dim: 3
              start_zone_radius: 0.3
              action_name: base_velocity
              stop_thresh: 0.001
              reset_joint_state: ???
              pddl_action_names: null
              turn_power_x: 0.0
              turn_power_y: 0.0
              skill_data: {}
          use_skills: {}
    ppo:
      clip_param: 0.2
      ppo_epoch: 1
      num_mini_batch: 2
      value_loss_coef: 0.5
      entropy_coef: 0.0001
      lr: 0.00025
      eps: 1.0e-05
      max_grad_norm: 0.2
      num_steps: 128
      use_gae: true
      use_linear_lr_decay: false
      use_linear_clip_decay: false
      gamma: 0.99
      tau: 0.95
      reward_window_size: 50
      use_normalized_advantage: false
      hidden_size: 512
      entropy_target_factor: 0.0
      use_adaptive_entropy_pen: false
      use_clipped_value_loss: true
      use_double_buffered_sampler: false
    ddppo:
      sync_frac: 0.6
      distrib_backend: NCCL
      rnn_type: LSTM
      num_recurrent_layers: 2
      backbone: resnet18
      pretrained_weights: data/ddppo-models/gibson-2plus-resnet50.pth
      pretrained: false
      pretrained_encoder: false
      train_encoder: true
      reset_critic: false
      force_distributed: false
    ver:
      variable_experience: true
      num_inference_workers: 2
      overlap_rollouts_and_learn: false
    auxiliary_losses: {}
habitat_hitl:
  window:
    title: Habitat HITL Application
    width: 1280
    height: 720
    display_font_path: ../core/fonts/IBMPlexSans-Regular.ttf
    display_font_size: 16
  networking:
    enable: false
    max_client_count: 1
    enable_connections_by_default: true
    port: 8888
    wait_for_app_ready_signal: false
    http_availability_server:
      enable: false
      port: 8889
      code_available: 200
      code_unavailable: 503
    client_max_idle_duration: null
    mock_connection_params_dict: None
    client_sync:
      server_camera: true
      server_input: true
      skinning: true
  target_sps: 30
  debug_line_width: 3
  episodes_filter: null
  experimental:
    use_batch_renderer: false
    headless:
      do_headless: false
      debug_video_writer:
        num_frames_to_save: 0
        filepath_base: ./debug_video
      exit_after: null
  disable_policies_and_stepping: false
  debug_third_person_viewport:
    width: null
    height: null
  debug_images: []
  viz_animation_speed: 2.0
  hide_humanoid_in_gui: false
  can_grasp_place_threshold: 1.2
  walk_pose_path: data/humanoids/humanoid_data/walking_motion_processed_smplx.pkl
  camera:
    first_person_mode: false
    max_look_up_angle: 15.0
    min_look_down_angle: -60.0
  gui_controlled_agents: []
  data_collection:
    save_filepath_base: None
    save_episode_record: false
    save_gfx_replay_keyframes: false
